<?php
$page->title("Courses: " . $courseId)
     ->navbar_image('courses')
     ->header("Courses");

$page->content_begin();
?>

	<div class="nonfocal">
		<h2><?=$courseId?></h2>
	</div>
	
	<ul class="results">
	<? 
	foreach ($classes as $i => $class) {
	  $className = $class['name'];
	  
	  $prevClassName = '';
	  $nextClassName = '';
	  if ($i > 0) {
	    $prevClassName = $classes[$i-1]['name'];
	  }
	  if ($i < count($classes)-1) {
	    $nextClassName = $classes[$i+1]['name'];
	  }
	  
	  if ($className == $prevClassName || $className == $nextClassName) {
        // Multiple classes with the same name in a row, show instructors to differentiate      
   	    $staffName = '';
        foreach($class['staff']['instructors'] as $name) {
          $staffName = (strlen($staffName) ? ', ' : '').$name;
        }?>

       <li><a href="<?=detailURL($class, selfURL())?>"><?=$className?> : <?=$class["title"]?> (<?=$staffName?>)</a></li><?
      } else {?>
        <li><a href="<?=detailURL($class, selfURL())?>"><?=$className?> : <?=$class["title"]?></a></li><?
      }
	} 
	?>
	</ul>

<? $page->content_end(); ?>
